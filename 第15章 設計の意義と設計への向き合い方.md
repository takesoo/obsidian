---
tags:
  - 良いコード悪いコードで学ぶ設計入門
---
- 本書はなんの設計について書いたものなのか
	- ８つあるソフトウェア製品に関する[[品質特性]]の中の保守性、さらにその中の変更容易性について書かれた
- 設計しないと開発生産性が低下する
	- 要因１：バグを埋め込みやすくなる
	- 要因２：可読性が低下する
	- 木こりのジレンマ
	- 一生懸命仕事した感覚だけが残って生産性は悪いまま
	- 国家規模の経済損失
		- 経産省によると、2025年以降、技術的負債による経済損失額は12兆円になるとの試算
- ソフトウェアとエンジニアの成長性
	- 変更容易性を高めるとソフトウェアの成長性も高まる。さらにエンジニアの正当性も高まる
	- エンジニアにとっての資産とは何か
		- 技術力
	- レガシーコードに人は引きずられやすい
		- レガシーコードだらけのプロダクトの開発にアサインされると、レガシーコードの書き手に育ってしまう
	- レガシーコードは高品質設計を妨げる
		- 設計改善が非常に困難で、断念することが多い
	- レガシーコードはエンジニアの成長を妨げる
- 課題を解決する
	- 知覚容易な課題と知覚困難な課題がある
		- ソースコードの読解スキルと技術的負債の知覚スキルは別
	- 理想形を知って初めて課題を知覚できる
	- 変更容易性を計測することはできない
- コードの良し悪しを判断する指標
	- コードメトリクス（ソフトウェアメトリクス）
	- 実行可能コードの行数
		- RuboCopでは、メソッドは10行以内、クラスは100行以内
	- 循環的複雑度
		- 条件分岐、ループ処理、ネストによって複雑さが増え、伴ってバグ混入確率も上がる
	- 凝集度
		- メトリクスはLCOM(Lack of Cohesion in Methods)で、計測ツールもある
	- 結合度
		- あるクラスが呼び出している他のクラスの数量
	- チャンク
		- マジカルナンバー４
			- 人間の短期記憶は一度に4±1個の概念しか把握できない
		- チャンク
			- 記憶個数の単位
		- クラス設計する際は、マジカルナンバー4を意識して、脳に優しい構造を心がける。クラス内部で扱う概念が4±1個に収まるように設計し、大きなクラスは小さなクラスに分割する。
- コード分析をサポートする各種ツール
	- Code Climate Quality
	- Understang
	- Visual Studio
- 設計対象と費用対効果
	- リファクタリングは、将来の仕様変更が見込まれる場所を優先する。
	- パレートの法則（80:20の法則）
		- ほんの一部分が全体要素を生み出しているとする法則
		- 機能の重要性、仕様変更頻度にもパレートの法則が適応される
		- 重要かつ仕様変更が頻繁に発生する箇所を狙って改善する
	- サービスの中心領域、[[コアドメイン]]
		- システムないで最大の価値を付加すべき場所
		- 価値があり重要で、費用対効果が最大の箇所
		- 競争優位性があり、差別化が図られ、ビジネス上優位に立つポイント
		- 設計にコストをかけるべき箇所、費用対効果が高い箇所
	- 重点設計対象の選定にはビジネス知識が必要
		- 設計の費用対効果を高めるためには、重点的な設計対象の選定が必要であり、そのためにはサービスが解決したい顧客課題は何か、サービスの本質は何かを見通す力が必要。つまりサービスのビジネス知識が必須。
- 時間を操る超能力者になろう
	- 現在の設計品質が未来の時間に直結している
	- 開発生産性を下げている要因を見抜ける力をつける