## エラーの種類
### 業務エラー
業務設計の中で想定されている範囲内で処理が分岐し、正常終了できなかった場合のエラーをさす。
ユーザーの入力値異常、権限エラー、データの状態による制御など。
4xx系ステータスを返す
「お前が悪い、ちゃんとやり直せ。」
### システムエラー
業務設計の装丁範囲外の異常事態が発生し、処理を正常に遂行できなくなった場合のエラーをさす。
データ異常、データ不整合、サーバーダウン、ネットワークエラーなど。
5xx系ステータスを返す
「私が悪いです。何とかします。」

## Railsの場合
業務エラーはモデルのバリデーションで検証し、エラー内容はモデルのerrorsに格納される。処理の結果をコントローラーで判定し、失敗時の処理を用意する。
システムエラーはRailsの共通処理に任せる。ログへのエラー出力と500エラー画面表示はRailsがデフォルトでやってくれる。Sentryも設定すれば自動で通知してくれる。
