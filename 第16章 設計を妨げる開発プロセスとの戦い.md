---
tags:
  - 良いコード悪いコードで学ぶ設計入門
---
- レガシーコードが書かれる要因には開発プロセスが関係することもある
- コミュニケーション
	- コミュニケーションが希薄だと設計品質に問題が生じる
	- [[コンウェイの法則]]
		- 開発組織の構造がシステムアーキテクチャに反映される
		- [[逆コンウェイ作戦]]で最適な組織構成を設計する
		- ↑だけでは解決しない
	- [[心理的安全性]]
- 設計
	- 「早く終わらせたい」心理が品質低下の罠
	- 粗悪なコードはきれいなコードを書くより常に遅い
		- TDDとそうでない実装では、TDDの方が全体的に早い
	- クラス設計と実装のフィードバックサイクルを回す
		- 仕様変更の際には簡単でいいのでクラス図を書いて、実装とのフィードバックをする
	- 厳密に設計しすぎず、サイクルを回し続けるのがコツ
		- たった一度の設計では、良き構造は見出せない。設計と実装のフィードバックサイクルを回すことで設計品質が向上する
	- 「パフォーマンスが落ちるからクラスを追加しない」は正しい？
		- 近年はハード、ソフトともに性能が向上しているので、インスタンス生成コストは無視できるレベル
		- パフォーマンスとボトルネックは計測するまでわからない。ボトルネックがわからないうちから高速に動作するコードを書くのは[[早すぎる最適化]]
	- 設計ルールを多数決で決めるとコード品質は最低になる
		- 設計スキルが未熟なメンバーに合わせてしまう
	- 設計ルールづくりのポイント
		- 設計スキルの高いメンバーが中心となってルールを作る
		- チームリーダーの権限でルールの遵守を推進する
		- ルールには理由や意図を併記する
- 実装
	- [[割れ窓理論]]と[[ボーイスカウトの規則]]
		- 粗悪なコードの放置を許さず、自分が変更する部分に関しては綺麗なこーdにしてコミットする
	- 既存コードを信用せず、冷静に正体を見破る
		- 既存のクラス名やメソッド名を基準にしない
		- ソフトウェアで解決したい内容、達成したい目的について、詳しい知見やそこで使われている言葉を把握し、理解することが重要
	- コーディング規約を利用しよう
	- 命名規約
- レビュー
	- コードレビューをしくみ化しよう
	- コードを設計視点でレビューしよう
	- 敬意と礼儀
	- 定期的に改善タスクを棚卸しすること
- チームの設計力を高める
	- 影響力を持つレベルにまで仲間を集める
		- クープマン目標値に基づくなら、開発チームに影響を与えられる人数は全体の10.9%
	- 基本はスモールステップ
		- 毎日少しずつ共有する
	- 実感が大事、手を動かしてみよう
	- フォローアップ勉強会を開いてみよう
	- 勉強会のバッドノウハウ
		- 本の読み合わせ「だけ」
		- 一度に大量にインプット
		- これまでの実装を頭ごなしに否定する
		- 変更容易製という品質特性があって、それを向上させる設計技術があることを認知させることが大切
	- リーダーやマネージャーに設計と費用対効果の話をする