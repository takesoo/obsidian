---
tags:
  - 良いコード悪いコードで学ぶ設計入門
---
- [[目的駆動名前設計]]
	- 名前から目的や意図が読み取れる
- 悪魔を呼び寄せる名前
	- 意味が大きすぎる名前をつけて、多くのロジックが一つのクラスに実装されてしまう
	- e.g. 「商品」予約、注文、発送などのロジックが実装される
	- [[関心の分離]]
		- ユースケースや目的、役割ごとに分離する
	- 関心事にふさわしい命名
		- e.g. 「予約品」「注文品」「発送品」etc...
	- 大雑把で意味が不明な名前
- 名前を設計する-目的駆動名前設計
	- 可能な限り具体的で、意味範囲が狭い、目的に特化した名前を選ぶ
		- 名前とは無関係なロジックを排除しやすくなり、クラスが小さくなる
		- 関係するクラスが少なくなり、結合度が低減し、仕様変更時に考慮する影響範囲が小さく済む
		- 目的に特化した名前なので、どこを変更すればいいかすぐに探し出せる。結果、開発生産性が向上する。
	- 存在ベースではなく、目的ベースで名前を考える
	- どんなビジネス目的があるか分析する
		- 登場人物や事柄を列挙したり、関係性を整理したり、分析してみましょう
	- 声に出して話してみる
		- [[ドメインマスター]]と会話することでフィードバックをもらい、正確で具体的なビジネス目的や名前を引き出せる
		- [[ラバーダッキング]]のように声に出して会話することで分析する
	- 利用規約を読んでみる
		- 利用規約にはサービスの取り扱いやルールが極めて厳密な言い回しで書かれており、特化した名前の参考になる
	- 違う名前に置き換えられないか検討する
		- 意味が狭い名前に置き換えられないか検討してみる
	- 疎結合高凝集になっているか点検する
		- 目的以外のロジックが混入しそうなら、別の名前を検討する
		- 関連するクラスが多いなら、別の名前を検討して、クラス分割を試みる
- 設計時の注意すべきリスク
	- 名前無頓着になるな
		- 名前に注意を払い、名前とロジックを対応づけること
	- 仕様変更時の「意味範囲の変化」に警戒
	- 会話には登場するのにコード上に登場しない名前に注意
		- 重要な概念が雑多なロジックの中に埋没していることがある
		- こうした「名無しのロジック」は見つけるのが困難で、影響範囲もあいまいなため変更も難しい
		- 会話に登場する名前を用いたメソッドやクラスを設計する
	- 形容詞で区別が必要なときはクラス化のチャンス
		- 