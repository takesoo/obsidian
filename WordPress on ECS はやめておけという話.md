---
Tags:
  - AWS
  - Wordpress
---
  

## Context

フジロックについてのwikiサイトをWordPressで構築することにし、せっかくだからAWS上にDockerコンテナでモダンなアーキテクチャでやろうぜ！などと勇んだ結果痛い目をみたという話です。

数ヶ月前のイキってた自分への戒めを込めつつ、運用してみてまずかったところとよかったところを振り返ります。

## コストばか高い

構築した最初の時は$6.8/dayもかかっていました。AWS WAFで海外IPアドレスからのアクセスを拒否したりSavingPlansを購入したりしてなんとか$4.8/dayまで下げました。

EC2その他はNATGateway代です。VPCフローログで通信先を確認するとちらほらAWS内部への通信があるのでVPCエンドポイントをおけばもう少し下げれそうな気配はします。

あとよく考えたら駆け出しのブログにロードバランシングとかいらんやろとも思うのでELBもやめちゃうかとか、ECSやめてDocker on EC2にするとか考えつくものもあります。

というわけでざっくりAWSでEC2, RDS構成を試算しましたが月5000円以下に抑えることは出来なさそうなのでもうやめることにします。**なんでWordPressなんてレガシーにこんなお金かけなならんのや。**

やっぱりAWSは個人レベルで手出しできない高級インフラ、WordPressやるなら無料枠利用できる構成にするかレンタルサーバーが最適だと思います。

## ライティング体験があれ

一度Notionを触っちゃうと、、ね。。WordPressのGutenbergエディターがツラい。使いにくいまで言わないけどどうにももっさりしててしんどい。テーブルとかカラムとか画像入れたりするのもなんかいちいちストレス。

## Notionと二重管理になる

↑の続きでGutenbergで書きにくいのでNotionで下書きしてある程度完成させてからWordPressにコピペしてるんですが、コピペしたあとにちょっと変更したり付箋風のコンポーネントに変えたりとかする時がある。で、Notionと差分ができてしまう。やっぱりNotionで一元管理したいです。

## どうやらNotionベースでも十分SEO対策できるらしい

WordPress、というかCocoonテンプレート使うとSEO対策かなんとなく分かってくるのはよかったですね。

ライティングしながらSEO対策について調べたりしてたのでいわゆる**完全に理解した状態**にはなりました。

Notion+Superとかの構成でもちゃんと対策してれば上位表示されるという記事も見るので、WordPressでの運用経験は構成変えても活かせると思います。

## Google Analyticsとかと少しは仲良くなれた

WordPressのSite Kitプラグインを使えば簡単にGoogle Analyticsとかと連携できるのですぐに使い始めることができました。このあたりはさすが歴史の長いWordPressだなと思いました。

## まとめ

莫大な勉強料を払ってブログ運営、Webライティングを学んできました。

なんとなく要領は掴めたのですがやはりWordPressでの運用がしっくりこなかったです。なによりコストがエグい。。

WordPressやるなら無料枠利用できる構成にするかレンタルサーバーのどっちかしかないかと

まだ記事の少ないうちにastro-notion-blogかNotion ＋ Superに移行します