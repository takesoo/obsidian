---
Created: Invalid date
---
# 稼働率とは

稼働率=MTBF/(MTBF+MTTR)

MTBF:Mean Time Between Failure（故障と故障の間の平均時間）

MTTR:Mean Time To Repair（修理のための平均時間）

MTBFが上がる、もしくはMTTRが減れば稼働率は上がる

## 稼働率を上げる具体的な手法

1. サーバー単体稼働率をあげる
2. システム全体で稼働率をあげる
3. プロビジョニングする

### サーバー単体稼働率をあげる

スケールアップ。クラウドインフラではあまりしない。

### システム全体で稼働率をあげる

冗長化構成すること。以下はその一例

- webサーバーをn+1構成にする
- ストレージをS3に分離する
- DBをマスタースレーブ構成にする

### プロビジョニングする

システムダウンした際を想定して準備しておくこと

---

# ELB

EC2へのアクセスを負荷分散するロードバランサー

- スケーラブル。ELB自体を冗長化することも可能
- AZをまたがってバランシングできる
- DNSを付与されるので名前解決が楽
- 従量課金
- マネージド

## 作成方法

### 1. ターゲットグループを作成

ALBの対象とするEC2のグループ

### 2. ALBを作成

### 3. EC2のSGのインバウンドにALBを追加

これでヘルスチェックが通る

ALBドメインにアクセスするとサイトが表示される

### 4. 名前解決

ALBドメインをroute53で名前解決する