---
Created: Invalid date
---
# S3に画像を保存する

S3バケットを作成

パブリックアクセスとすること。EC2からアクセスするため。

S3にアップロードするためのIAMユーザーを作成する

wordpress管理画面でoffload mediaプラグインをインストール。/var/www/html/wp-config.phpにIAM情報を設定（IAMユーザーを割り当てる）

この時点でwordpressに投稿した画像はS3に保存される

---

# 画像配信を高速化する(CDN)

CloudFrontでdistributionをS3に設定する

この時点で配信はされるがドメインがCloudFrontのまま

独自ドメインを使うためにSSL証明書を取得してroute53にCNAMEレコード登録する

offload mediaにも独自ドメインを登録する

---

#### インフラ設計で考慮すべき重要なポイント

|観点|内容|具体的指標例|
|---|---|---|
|[[可用性]]|継続的に利用できるか|稼働率、目標復旧時間、災害対策、SLA|
|[[性能・拡張性]]|性能が十分で、将来においても拡張しやすいか|性能目標、拡張性|
|[[運用・保守性]]|運用保守しやすいか|運用時間、バックアップ、運用監視、メンテナンス|
|[[セキュリティ]]|情報が守られているか|資産の後悔範囲、ガイドライン、情報漏洩対策|
|[[移行性]]|他のシステムに移行しやすいか|移行方式の規定、設備・データ、移行スケジュール|