---
tags:
  - book
  - 関数型プログラミング
---
why
	Next.js、フロントエンド開発での作法について理解を深めるため。引数で関数を渡したり、関数を返す関数があったり、パターンマッチングなど、オブジェクト指向にはない作法があるので、そのあたりについて疑問をなくしたい。

Q. 関数型プログラミングとは何か
A. 関数型プログラミングとは、①シグネチャが嘘をつかず、②本体が極力宣言的である関数を使ったプログラミング。

Q. なぜ関数型プログラミングをするのか

Q. なぜそのような考え方が生まれたのか

Q. 純粋関数とは
A. 
	純粋関数とは以下の特徴を持った関数のこと
		- 戻り値は常に1つだけ
		- 引数のみに基づいて戻り値を計算する
		- 既存の値を変更しない
	純粋関数は状態を持たない（ステートレス）である。状態が計算に必要な場合は引数で渡す。データそのものを変更せず（副作用をせず）データのコピーを計算して返す。計算をするのだから当然戻り値があり、戻り値のない関数は純粋関数になり得ない。
	純粋関数は引数に基づいて計算して値を返すので、テストが1行で記述でき、[[テスト容易性]]が高い

```java
// 命令型
class ShoppingCart {
	private List<String> items = new ArrayList<>();
	private boolean bookAdded = false;

	public void addItem(String: item) {
		items.add(item);
		if(item.equals("Book")) {
			bookAdded = true;
		}
	}

	public void removeItem(String: item) {
		items.remove(item);
		if(item.equals("Book")) {
			bookAdded = false;
		}
	}

	public int getDiscountPercentage() {
		if(bookAdded) {
			return 5;
		} else {
			return 0;
		}
	}

	public List<String> getItems() {
		return items;
	}
}

ShoppingCart cart = new ShoppingCart();
cart.addItem("Apple");
cart.addItem("Book"); // {items: ["Apple", "Book"], bookAdded: true}
cart.getItems().remove("Book"); // {items: ["Apple"], bookAdded: true} bookAddedがtrueのままになり、データ不整合

ShoppingCart cart2 = new ShoppingCart();
cart2.addItem("Apple");
cart2.addItem("Book"); // {items: ["Apple", "Book"], bookAdded: true}
cart2.addItem("Book"); // {items: ["Apple", "Book", "Book"], bookAdded: true}
cart2.removeItem("Book"); // {items: ["Apple", "Book"], bookAdded: false} bookAddedがfalseになり、データ不整合

// 関数型
class ShoppingCart {
	public static int getDiscountPercentage(List<String>: items) {
		if(items.contains("Book")) {
			return 5;
		} else {
			return 0;
		}
	}
}

List<String> items = new ArrayList();
items.add("Apple");
ShoppingCart.getDiscountPercentage(items); // => 0
items.add("Book"); // ["Apple", "Book"]
ShoppingCart.getDiscountPercentage(items); // => 5
items.remove("Book"); // ["Apple"]
ShoppingCart.getDiscountPercentage(items); // => 0
items.add("Book"); // ["Apple", "Book"]
ShoppingCart.getDiscountPercentage(items); // => 5
items.add("Book"); // ["Apple", "Book", "Book"]
ShoppingCart.getDiscountPercentage(items); // => 5
items.remove("Book"); // ["Apple", "Book"]
ShoppingCart.getDiscountPercentage(items); // => 5
```

Q. イミュータブルとは

Q. 値としての関数とは

Q. 関数を渡す？

Q. 関数を返す？

Q. カリー化とは？

Q. 高階関数？
（5章以降は関数型プログラミングの実践。↑を理解した後で追加のQを考える）