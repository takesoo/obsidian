---
tags:
  - 良いコード悪いコードで学ぶ設計入門
---
- [[凝集度|低凝集]]を呼び込む悪魔
	- staticメソッドの誤用
		- staticメソッドはインスタンス変数を使えない
			- 引数にデータクラスを使い、低凝集になりがち
		- インスタンス変数を使う構造に作り変える
			- [[第3章 クラス設計]]のMoneyクラスの構造になる
		- インスタンスメソッドのフリしたstaticメソッドに注意
		- どうしてstaticメソッドが使われてしまうのか
			- 手続き型言語の考え方の名残
			- インスタンス生成が不要なためお手軽に使われがち
		- どういうときにstaticメソッドを使えばいいのか
			- ==凝集度に影響がない場合==
				- ログ出力用メソッド
				- フォーマット変換用メソッド
				- [[ファクトリメソッド]]
	- 初期化ロジックの分散
		- コンストラクタをpublicにすると外部のクラスで様々な用途で使われがちになる
		- ==コンストラクタをprivateにして、代わりにファクトリメソッドを用意する==
		- 生成ロジックが増えすぎたら[[ファクトリクラス]]を検討すること
	- 共通処理クラス（Common・Util）
		- さまざまなロジックが雑多に置かれがち
			- いろんなクラスにまたがる共通処理が集まり、関心がバラバラ
			- しかも大体staticメソッド
		- オブジェクト指向設計の基本に立ち返ろう
			- その共通処理専用のクラス（たとえば税込金額クラス）にして、インスタンスメソッドで実装する
		- 横断的関心事
			- ログ出力
			- エラー検出処理
			- 例外処理
			- etc...
			- これらは共通処理としてまとめて、インスタンス化する必要がなければstatucメソッドとして設計しても問題ない
		- 